<!DOCTYPE html>
<html lang="en">
<head>
  <title>Favorites</title>
  {% load static %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">
  <style media="screen">
    {% load static %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <script src="{% static 'js/script.js' %}"></script>
    {% include 'navbar.html' %}
  </style>
</head>
<body>
  <div class="background">
    <!-- ... -->
  </div>

  <button onclick="openForm()">Add a Comment</button>

  <div class="form-popup" id="commentForm">
    <form action="{% url 'save_comment' %}" method="post">
      {% csrf_token %}
      <h3>Add a Comment</h3>
      <label for="movie_name">Movie Name</label>
      <input type="text" placeholder="Movie Name" name="movie_name" id="movie_name">

      <label for="comment">Comment</label>
      <input type="text" placeholder="Comment" name="comment" id="comment">

      <label for="rate">Rate</label>
      <input type="number" placeholder="Rate" name="rate" id="rate">

      <button type="submit">Save</button>
      <button type="button" onclick="closeForm()">Close</button>
    </form>
  </div>
  <h3>Your Favorite Films</h3>
  <ul>
    {% for film in films %}
      <li>{{ film.movie_name }} - {{ film.comment }} - {{ film.rate }}</li>
      <a href="{% url 'update_favorite' film.id %}">Update</a>
    {% empty %}
      <li>No favorite films yet.</li>
    {% endfor %}
  </ul>
  <script>
    function openForm() {
      document.getElementById("commentForm").style.display = "block";
    }

    function closeForm() {
      document.getElementById("commentForm").style.display = "none";
    }
  </script>
</body>
</html>
